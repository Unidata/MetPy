

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Unit Support &mdash; MetPy 0.3.1 documentation</title>
  

  
  
  
  
    <link rel="canonical" href="https://unidata.github.io/MetPy/latest/units.html"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="MetPy 0.3.1 documentation" href="index.html"/>
        <link rel="next" title="MetPy Examples" href="examples/index.html"/>
        <link rel="prev" title="Installation Guide" href="installguide.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> MetPy
          

          
          </a>

          
            
            
              <div class="version">
                0.3.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installguide.html">Installation Guide</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Unit Support</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#construction">Construction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#operations">Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#conversion">Conversion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples/index.html">MetPy Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/index.html">The MetPy API</a></li>
<li class="toctree-l1"><a class="reference internal" href="developerguide.html">Developer&#8217;s Guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MetPy</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Unit Support</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/units.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="unit-support">
<h1>Unit Support<a class="headerlink" href="#unit-support" title="Permalink to this headline">¶</a></h1>
<p>To ensure correct calculations, MetPy relies upon the <code class="xref py py-mod docutils literal"><span class="pre">pint</span></code> library to enforce unit-correctness.
This simplifies the MetPy API by eliminating the need to specify units various functions. Instead,
only the final results need to be converted to desired units. For more information on unit support, see the
documentation for <a class="reference external" href="http://pint.readthedocs.org">Pint</a>. Particular attention should be paid to the support
for <a class="reference external" href="http://pint.readthedocs.org/en/latest/nonmult.html">temperature units</a>.</p>
<div class="section" id="construction">
<h2>Construction<a class="headerlink" href="#construction" title="Permalink to this headline">¶</a></h2>
<p>To use units, the first step is to import the default MetPy units registry from the <a class="reference internal" href="api/units.html#module-metpy.units" title="metpy.units"><code class="xref py py-mod docutils literal"><span class="pre">units</span></code></a> module:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">metpy.units</span> <span class="kn">import</span> <span class="n">units</span>
</pre></div>
</div>
<p>The unit registry encapsulates all of the available units, as well as any pertinent settings. The registry also
understands unit prefixes and suffixes; this allows the registry to understand <code class="docutils literal"><span class="pre">'kilometer'</span></code> and <code class="docutils literal"><span class="pre">'meters'</span></code>
in addition to the base <code class="docutils literal"><span class="pre">'meter'</span></code> unit.</p>
<p>In general, using units is only a small step on top of using the <a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.13)"><code class="xref py py-class docutils literal"><span class="pre">numpy.ndarray</span></code></a> object. The easiest way
to attach units to an array is to multiply by the units:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">distance</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="o">*</span> <span class="n">units</span><span class="o">.</span><span class="n">meters</span>
</pre></div>
</div>
<p>It is also possible to directly construct a <code class="xref py py-class docutils literal"><span class="pre">pint.Quantity</span></code>, with a full units string:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">time</span> <span class="o">=</span> <span class="n">units</span><span class="o">.</span><span class="n">Quantity</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="s1">&#39;sec&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Compound units can be constructed by the direct mathematical operations necessary:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="mf">9.81</span> <span class="o">*</span> <span class="n">units</span><span class="o">.</span><span class="n">meter</span> <span class="o">/</span> <span class="p">(</span><span class="n">units</span><span class="o">.</span><span class="n">second</span> <span class="o">*</span> <span class="n">units</span><span class="o">.</span><span class="n">second</span><span class="p">)</span>
</pre></div>
</div>
<p>This verbose syntax can be reduced by using the unit registry&#8217;s support for parsing units:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="mf">9.81</span> <span class="o">*</span> <span class="n">units</span><span class="p">(</span><span class="s1">&#39;m/s^2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="operations">
<h2>Operations<a class="headerlink" href="#operations" title="Permalink to this headline">¶</a></h2>
<p>With units attached, it is possible to perform mathematical operations, resulting in the proper units:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="n">distance</span> <span class="o">/</span> <span class="n">time</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="mf">0.5</span>  <span class="mf">0.5</span>  <span class="mf">0.5</span>  <span class="mf">0.5</span><span class="p">]</span> <span class="n">meter</span> <span class="o">/</span> <span class="n">second</span>
</pre></div>
</div>
<p>For multiplication and division, units can combine and cancel. For addition and subtraction, instead the
operands must have compatible units. For instance, this works:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="n">distance</span> <span class="o">+</span> <span class="n">distance</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="mi">0</span> <span class="mi">2</span> <span class="mi">4</span> <span class="mi">6</span> <span class="mi">8</span><span class="p">]</span> <span class="n">meter</span>
</pre></div>
</div>
<p>But this does not:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="n">distance</span> <span class="o">+</span> <span class="n">time</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">DimensionalityError</span><span class="p">:</span> <span class="n">Cannot</span> <span class="n">convert</span> <span class="kn">from</span> <span class="s1">&#39;meter&#39;</span> <span class="p">([</span><span class="n">length</span><span class="p">])</span> <span class="n">to</span> <span class="s1">&#39;second&#39;</span> <span class="p">([</span><span class="n">time</span><span class="p">])</span>
</pre></div>
</div>
<p>Even if the units are not identical, as long as they are dimensionally equivalent, the operation can be performed:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="n">units</span><span class="o">.</span><span class="n">inch</span> <span class="o">+</span> <span class="mi">5</span> <span class="o">*</span> <span class="n">units</span><span class="o">.</span><span class="n">cm</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mf">4.968503937007874</span> <span class="n">inch</span>
</pre></div>
</div>
</div>
<div class="section" id="conversion">
<h2>Conversion<a class="headerlink" href="#conversion" title="Permalink to this headline">¶</a></h2>
<p>Converting a <code class="xref py py-class docutils literal"><span class="pre">Quantity</span></code> between units can be accomplished by using the <code class="xref py py-meth docutils literal"><span class="pre">to()</span></code>
method call, which constructs a new <code class="xref py py-class docutils literal"><span class="pre">Quantity</span></code> in the desired units:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">print</span><span class="p">((</span><span class="mi">1</span> <span class="o">*</span> <span class="n">units</span><span class="o">.</span><span class="n">inch</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">units</span><span class="o">.</span><span class="n">mm</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mf">25.400000000000002</span> <span class="n">millimeter</span>
</pre></div>
</div>
<p>There is also the <code class="xref py py-meth docutils literal"><span class="pre">ito()</span></code> method which performs the same operation in place. To simplify units,
there is also the <code class="xref py py-meth docutils literal"><span class="pre">to_base_units()</span></code> method, which converts a quantity to SI units, performing
any needed cancellation:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">Lf</span> <span class="o">=</span> <span class="mf">3.34e6</span> <span class="o">*</span> <span class="n">units</span><span class="p">(</span><span class="s1">&#39;J/kg&#39;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">Lf</span><span class="p">,</span> <span class="n">Lf</span><span class="o">.</span><span class="n">to_base_units</span><span class="p">(),</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mf">3340000.0</span> <span class="n">joule</span> <span class="o">/</span> <span class="n">kilogram</span>
<span class="mf">3340000.0</span> <span class="n">meter</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">/</span> <span class="n">second</span> <span class="o">**</span> <span class="mi">2</span>
</pre></div>
</div>
<p><code class="xref py py-meth docutils literal"><span class="pre">to_base_units()</span></code> can also be done in place via the <code class="xref py py-meth docutils literal"><span class="pre">ito_base_units()</span></code> method.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="examples/index.html" class="btn btn-neutral float-right" title="MetPy Examples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="installguide.html" class="btn btn-neutral" title="Installation Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, MetPy Developers.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.3.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>