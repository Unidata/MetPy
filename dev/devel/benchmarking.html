
<!DOCTYPE html>


<html lang="en" data-content_root="../" data-theme="auto">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Performance Benchmarking &#8212; MetPy 1.7dev</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "auto";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "auto";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/theme-unidata.css?v=452fc297" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=030dc6f6"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-J48T2BG3J7"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-J48T2BG3J7');
            </script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-J48T2BG3J7');
            </script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'devel/benchmarking';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://unidata.github.io/MetPy/pst-versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '1.7';
        DOCUMENTATION_OPTIONS.show_version_warning_banner =
            false;
        </script>
    <script src="../_static/doc_shared.js?v=fe4a670c"></script>
    <link rel="icon" href="../_static/metpy_32x32.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Example Gallery" href="../examples/index.html" />
    <link rel="prev" title="Infrastructure Guide" href="infrastructureguide.html" />
    
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="1.7dev" />
    <meta name="docbuild:last-update" content="Sep 09, 2025 at 17:12:23"/>
    <link rel="canonical" href="https://unidata.github.io/MetPy/latest/devel/benchmarking.html" />

  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="auto">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class=" navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/metpy_horizontal.png" class="logo__image only-light" alt="MetPy 1.7dev - Home"/>
    <img src="../_static/metpy_horizontal.png" class="logo__image only-dark pst-js-only" alt="MetPy 1.7dev - Home"/>
  
  
</a></div>
    
      <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
    
  </div>
  
  <div class=" navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../userguide/index.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../api/index.html">
    Reference Guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    Developer’s Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../examples/index.html">
    Example Gallery
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../userguide/SUPPORT.html">
    Support
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://github.com/Unidata/MetPy/releases">
    Release Notes
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
        </div>
      
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/Unidata/MetPy" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://bsky.app/profile/metpy.bsky.social" title="Bluesky" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-bluesky fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Bluesky</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/MetPy" title="Twitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-twitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Twitter</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://calendar.google.com/calendar/embed?src=c_596cc34cd7196caec223786795c8730786aead6e2dbffe03403186f203075973%40group.calendar.google.com&ctz=America%2FDenver" title="Calendar" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-solid fa-calendar fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Calendar</span></a>
        </li>
</ul></div>
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  
    
    <div class="container-fluid" id="banner"></div>


  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../userguide/index.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../api/index.html">
    Reference Guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    Developer’s Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../examples/index.html">
    Example Gallery
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../userguide/SUPPORT.html">
    Support
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://github.com/Unidata/MetPy/releases">
    Release Notes
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/Unidata/MetPy" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://bsky.app/profile/metpy.bsky.social" title="Bluesky" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-bluesky fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Bluesky</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/MetPy" title="Twitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-twitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Twitter</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://calendar.google.com/calendar/embed?src=c_596cc34cd7196caec223786795c8730786aead6e2dbffe03403186f203075973%40group.calendar.google.com&ctz=America%2FDenver" title="Calendar" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-solid fa-calendar fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Calendar</span></a>
        </li>
</ul></div>
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="CONTRIBUTING.html">Contributors Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">MetPy Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="infrastructureguide.html">Infrastructure Guide</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Performance Benchmarking</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Developer’s Guide</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Performance Benchmarking</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="performance-benchmarking">
<h1>Performance Benchmarking<a class="headerlink" href="#performance-benchmarking" title="Link to this heading">#</a></h1>
<p>This guide provides information on the implementation and management of benchmarking in MetPy.</p>
<section id="airspeed-velocity">
<h2>airspeed velocity<a class="headerlink" href="#airspeed-velocity" title="Link to this heading">#</a></h2>
<p>MetPy’s source code is benchmarked using <a class="reference external" href="https://github.com/airspeed-velocity/asv">airspeed velocity</a>.
asv is an open source software which builds environments based on historical and current
iterations of software and runs benchmark functions before compiling the results into
digestable html pages. MetPy’s developers have used GitHub Actions and a Unidata Jenkins
instance in order to automatically perform benchmarking as part of the continuous
integration/continuous development workflow. These benchmarks allow us to identify bottlenecks
in the code, determine performance changes from pull requests, and view a history of MetPy’s
time efficiency.</p>
</section>
<section id="historical-performance">
<h2>Historical Performance<a class="headerlink" href="#historical-performance" title="Link to this heading">#</a></h2>
<p>Results of Metpy’s performance throughout versions is available at <a class="reference external" href="https://unidata.github.io/MetPy-benchmark/#">this page</a>.
Currently, the history is benchmarked starting with MetPy version <code class="docutils literal notranslate"><span class="pre">1.4.0</span></code> and benchmarks the
first commit hash associated with each minor version until present. Additionally, starting with
the most recent minor release, every merged pull request made by a human contributor is
benchmarked and added to the results. Note that these benchmarks run weekly, so it may take a
few days for your merged commit to be updated into the results.</p>
<p>This performance history is run using the Unidata Jenkins instance. Upon run, the
<code class="docutils literal notranslate"><span class="pre">benchmarks/Jenkinsfile</span></code> instructs the Jenkins instance to create a custom
<code class="docutils literal notranslate"><span class="pre">Docker</span> <span class="pre">container</span></code> using the <code class="docutils literal notranslate"><span class="pre">benchmarks/Dockerfile</span></code> and runs the benchmark
functions within it. Jenkins uses the same Unidata machine for each run in order to ensure
consistent benchmarking results. asv is installed in this container and runs the benchmark
functions for the historical commits of interest. In the event that successful results already
exist for the requested commit hash, asv will skip it and maintain the previous results.
Finally, Jenkins pushes the results to a separate <a class="reference external" href="https://github.com/unidata/metpy-benchmark">results repository</a>
where a GitHub Action uses an asv command to generate and deploy the html.</p>
</section>
<section id="pull-request-comparative-benchmarking">
<h2>Pull Request Comparative Benchmarking<a class="headerlink" href="#pull-request-comparative-benchmarking" title="Link to this heading">#</a></h2>
<p>As part of the continuous integration workflow of MetPy, a GitHub Action has been implemented
which uses the <code class="docutils literal notranslate"><span class="pre">asv</span> <span class="pre">continuous</span></code> command to automatically use asv to benchmark the PR’s SHA
versus the current main branch. This comparative benchmark is only done when the pull request
is labeled <code class="docutils literal notranslate"><span class="pre">benchmark</span></code> by a MetPy maintainer. This is because the check takes about 10
minutes and is not necessary for every pull request, only those that change the calc
module.</p>
<p>Currently, the benchmark is set up to fail if any one benchmark takes 10% or more longer
on the PR branch. But failing this check doesn’t mean you can’t contribute!
Your PR might emphasize accuracy at the sacrifice of speed, and that might be ok in some cases.
The maintainers will work with each pull request on a case-by-case basis and can help you
if you’re getting unexpected benchmarking failures. If you want to test out your performance
before opening a pull request, look into
<a class="reference internal" href="#local-benchmarking-reference-label"><span class="std std-ref">local comparative benchmarking</span></a>.</p>
</section>
<section id="benchmark-functions">
<h2>Benchmark Functions<a class="headerlink" href="#benchmark-functions" title="Link to this heading">#</a></h2>
<p>Located within the <code class="docutils literal notranslate"><span class="pre">benchmarks/benchmarks</span></code> directory are <code class="docutils literal notranslate"><span class="pre">.py</span></code> files each containing a
class <code class="docutils literal notranslate"><span class="pre">TimeSuite</span></code>, <code class="docutils literal notranslate"><span class="pre">setup</span></code> and <code class="docutils literal notranslate"><span class="pre">setup_cache</span></code> functions, and functions with the name
scheme <code class="docutils literal notranslate"><span class="pre">time_example_metpy_function</span></code>. This is asv’s required <a class="reference external" href="https://asv.readthedocs.io/en/latest/writing_benchmarks.html">syntax</a>
for writing benchmarks. The <code class="docutils literal notranslate"><span class="pre">setup_cache</span></code> function loads the artificial benchmarking dataset
<code class="docutils literal notranslate"><span class="pre">data_array_compressed.nc</span></code> and prepares the dataset for use by the benchmarks. The <code class="docutils literal notranslate"><span class="pre">setup</span></code>
function “slices” the 4D dataset into the appropriate dimensions to create variables that can
be passed to and used by the benchmark functions. Each benchmarking function then receives one
of these slices (or the entire dataset) and runs the code inside the function as a benchmark,
timing the performance and saving the results.</p>
</section>
<section id="local-benchmarking">
<h2>Local Benchmarking<a class="headerlink" href="#local-benchmarking" title="Link to this heading">#</a></h2>
<p>If you would like to run the benchmarking suite on your own development branch,
follow these steps:</p>
<ol class="arabic">
<li><p>Install asv in your <code class="docutils literal notranslate"><span class="pre">devel</span></code> environment using <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">asv</span></code></p></li>
<li><p>Ensure that you have the <code class="docutils literal notranslate"><span class="pre">benchmarks</span></code> directory at the root of your MetPy repository</p></li>
<li><p>Navigate to the <code class="docutils literal notranslate"><span class="pre">benchmarks</span></code> directory: <code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">benchmarks</span></code></p></li>
<li><p>Generate the benchmarking data array by running the <code class="docutils literal notranslate"><span class="pre">data_array_generate.py</span></code> file</p></li>
<li><p>Now it depends on exactly which benchmarks you want to run:</p>
<p>a. To benchmark your code as is currently is,
use <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">asv</span> <span class="pre">run</span></code></p>
<p id="local-benchmarking-reference-label">b. To compare a working branch with <em>your version</em> of MetPy’s main branch, use
<code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">asv</span> <span class="pre">continuous</span> <span class="pre">main</span> <span class="pre">&lt;branch_name&gt;</span></code> where <code class="docutils literal notranslate"><span class="pre">&lt;branch_name&gt;</span></code> is the name of your
branch. You can also simply use two commit hashes in the place of the branch names. To view
a text-based table for the functions and comparisons, use <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">asv</span> <span class="pre">compare</span> <span class="pre">main</span>
<span class="pre">&lt;branch_name&gt;</span></code></p>
<p>c. To run the history of MetPy as mentioned above, you can use
<code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">asv</span> <span class="pre">run</span> <span class="pre">HASHFILE:no_bot_merge_commits.txt</span></code> after running the
<code class="docutils literal notranslate"><span class="pre">generate_hashes.sh</span></code> script
<strong>Note that this is computationally taxing and often takes several hours,
depending on the specs of your machine</strong></p>
<p>d. If you have a running <code class="docutils literal notranslate"><span class="pre">Docker</span> <span class="pre">Engine</span></code>, you can build the Docker image from the
Dockerfile in the benchmarks directory using the command
<code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">build</span> <span class="pre">-t</span> <span class="pre">metpy-benchmarks:latest</span> <span class="pre">.</span></code></p>
<p>After this is built, you can run the
benchmarks from the root of the repository in the container using
<code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">run</span> <span class="pre">--rm</span> <span class="pre">-v</span> <span class="pre">.:/container-benchmarks</span> <span class="pre">--hostname</span> <span class="pre">Docker_Container</span>
<span class="pre">metpy-benchmarks:latest</span> <span class="pre">benchmark</span></code> on Windows or
<code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">run</span> <span class="pre">--rm</span> <span class="pre">-v</span> <span class="pre">.:/container-benchmarks</span> <span class="pre">--hostname</span> <span class="pre">Docker_Container</span> <span class="pre">-e</span> <span class="pre">DUID=$(id</span> <span class="pre">-u)</span>
<span class="pre">-e</span> <span class="pre">DGID=$(id</span> <span class="pre">-g)</span> <span class="pre">metpy-benchmarks:latest</span> <span class="pre">benchmark</span></code> on Mac/Linux <strong>Note that as above,
this runs all the benchmarks in no_bot_merge_commits.txt and can be taxing</strong></p>
<p>If you want to just enter the container, you can use the same command as above, but
replace the end <code class="docutils literal notranslate"><span class="pre">benchmark</span></code> with <code class="docutils literal notranslate"><span class="pre">peek</span></code></p>
</li>
</ol>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="infrastructureguide.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Infrastructure Guide</p>
      </div>
    </a>
    <a class="right-next"
       href="../examples/index.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Example Gallery</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#airspeed-velocity">airspeed velocity</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#historical-performance">Historical Performance</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pull-request-comparative-benchmarking">Pull Request Comparative Benchmarking</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#benchmark-functions">Benchmark Functions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#local-benchmarking">Local Benchmarking</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2008–2025, MetPy Developers. Development is supported by Unidata and the National Science Foundation.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>