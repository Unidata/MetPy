
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MetPy Roadmap &#8212; MetPy 1.0dev</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.f6b7ca918bee2f46fd9abac01cfb07d5.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
<style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&display=swap');
</style>
    
      

    

    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-rendered-html.css" />
    <link rel="stylesheet" type="text/css" href="../_static/theme-unidata.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1e043a052b0af929e4d8.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/doc_shared.js"></script>
    <link rel="shortcut icon" href="../_static/metpy_32x32.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Infrastructure Guide" href="infrastructureguide.html" />
    <link rel="prev" title="Contributors Guide" href="CONTRIBUTING.html" />
    
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    <link rel="canonical" href="https://unidata.github.io/MetPy/latest/devel/roadmap.html" />

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
  <nav class="navbar navbar-dark navbar-expand-lg bg-unidata fixed-top bd-navbar shadow" id="navbar-main"><div class="container-xl">

    <a class="navbar-brand" href="../index.html">
    
      <img src="../_static/metpy_horizontal.png" class="logo" alt="logo" />
    
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>


    <div id="navbar-menu" class="collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">


        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Version 1.0dev
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown" id="version-menu"></div>
        </li>


        
        
        <li class="nav-item ">
            <a class="nav-link" href="../userguide/index.html">User Guide</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../api/index.html">Reference Guide</a>
        </li>
        
        <li class="nav-item active">
            <a class="nav-link" href="index.html">Developer’s Guide</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../examples/index.html">Example Gallery</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../userguide/SUPPORT.html">Support</a>
        </li>
        
        
        <li class="nav-item">
            <a class="nav-link nav-external" href="https://github.com/Unidata/MetPy/releases">Release Notes<i class="fas fa-external-link-alt"></i></a>
        </li>
        
      </ul>


      <form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form>
      

      <ul class="navbar-nav">
        
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/Unidata/MetPy" target="_blank" rel="noopener">
              <span><i class="fab fa-github-square"></i></span>
            </a>
          </li>
        
        
          <li class="nav-item">
            <a class="nav-link" href="https://twitter.com/MetPy" target="_blank" rel="noopener">
              <span><i class="fab fa-twitter-square"></i></span>
            </a>
          </li>
        
      </ul>
    </div>
</div>
  </nav>


    <div class="container-fluid" id="banner"></div>


    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l2">
  <a class="reference internal" href="CONTRIBUTING.html">
   Contributors Guide
  </a>
 </li>
 <li class="toctree-l2 current active">
  <a class="current reference internal" href="#">
   MetPy Roadmap
  </a>
 </li>
 <li class="toctree-l2">
  <a class="reference internal" href="infrastructureguide.html">
   Infrastructure Guide
  </a>
 </li>
</ul>
  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
              
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#goal">
   Goal
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#plans">
   Plans
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#declarative-plotting">
     Declarative Plotting
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#xarray-integration-and-unit-handling">
     Xarray Integration and Unit Handling
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#calculations">
     Calculations
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#file-format-support">
     File Format Support
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#other-items">
     Other Items
    </a>
   </li>
  </ul>
 </li>
</ul>

</nav>


              
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="metpy-roadmap">
<h1>MetPy Roadmap<a class="headerlink" href="#metpy-roadmap" title="Permalink to this headline">¶</a></h1>
<div class="section" id="goal">
<h2>Goal<a class="headerlink" href="#goal" title="Permalink to this headline">¶</a></h2>
<p>MetPy’s goal is to provide the domain-specific tools for building meteorological and
atmospheric science applications in Python. This means supporting scripted workflows, like
those done previously using GEMPAK, NCL, etc. MetPy’s functionality is not limited to
supporting only static views, we also envision being used as the calculation core for graphical
applications as well. Our focus on providing the domain-specific tools means that general
functionality is moved upstream (to e.g. matplotlib, xarray) whenever sensible and possible.</p>
</div>
<div class="section" id="plans">
<h2>Plans<a class="headerlink" href="#plans" title="Permalink to this headline">¶</a></h2>
<p>We enumerate here general plans for how we plan to advance MetPy over the next couple of years.
We have intentionally avoided assigning dates to any of these, acknowledging our complete
inability to estimate time and level of effort, as well as because our priorities are flexible
and are informed by community feedback. The order of the following items reflects a rough
prioritized order, but is by no means a strict ordering.</p>
<p>Our plan is also to release MetPy 1.0 in 2020. Items in the roadmap relevant to the 1.0 release
are specifically called out below.</p>
<p>We welcome input and discussion about these items over on MetPy’s
<a class="reference external" href="https://github.com/Unidata/MetPy/issues">issue tracker</a>.</p>
<p>For a more detailed view of plans of specific issues and pull requests for upcoming versions
of MetPy, visit the <a class="reference external" href="https://github.com/Unidata/MetPy/milestones">GitHub milestones page</a>.
These represent our best idea of what’s planned for a specific upcoming version, though are
subject to rapid change as release dates approach.</p>
<div class="section" id="declarative-plotting">
<h3>Declarative Plotting<a class="headerlink" href="#declarative-plotting" title="Permalink to this headline">¶</a></h3>
<p>One of GEMPAK’s successes is the simplicity with which plots can be created. Part of this
simplicity is enforced by the interface to GEMPAK: setting variables. MetPy 0.10 introduced the
simplified plotting interface to begin to replicate this, with initial support for image and
contour plots. We plan to continue to advance this interface with additional plot types and
other features:</p>
<ul class="simple">
<li><p>Vector plots</p></li>
<li><p>Streamlines</p></li>
<li><p>Filled contours</p></li>
<li><p>Polar Radar Data</p></li>
<li><p>Cross-sections</p></li>
<li><p>Skew-T</p></li>
<li><p>Plot decorations: logos, timestamp, colorbars, labelling contours, figure title</p></li>
</ul>
<p>Replicating all of matplotlib’s features is beyond the scope of this interface. We intend,
instead, to aim for simplicity of the interface while replicating GEMPAK’s capabilities and
being able to do what is needed for most common use cases.</p>
</div>
<div class="section" id="xarray-integration-and-unit-handling">
<h3>Xarray Integration and Unit Handling<a class="headerlink" href="#xarray-integration-and-unit-handling" title="Permalink to this headline">¶</a></h3>
<p>This item is the most important to having stable interfaces in advance of a 1.0 release of
MetPy. Xarray has quickly proven to be a capable data model on which to base MetPy’s handling
of gridded data (tabular/point data will likely use pandas). MetPy’s unit-handling based on
pint has been a cornerstone for providing robust calculations that are difficult to use (from a
dimensionality perspective) incorrectly. It is unfortunate, then, that the unit handling has
also proven to be MetPy’s most significant learning hurdle for new users, as well as the
biggest technical challenge to broader adoption of xarray within MetPy’s code base. We have
identified a few tasks that need to be done in this area to improve things:</p>
<ul class="simple">
<li><p>Use xarray natively for all calculation interfaces; unit information can be pulled from
metadata. This allows calculations to be coordinate-aware, which is a huge benefit for so
many calculations (e.g. vorticity, isentropic interpolation)</p></li>
<li><p>Continue to accept numpy array + pint, but convert to xarray internally</p></li>
<li><p>Add helper functions to simplify xarray creation and manipulation for common use cases</p></li>
<li><p>Simplify manipulation and display of dates from xarray (may go upstream)</p></li>
<li><p>Investigate other unit library solutions (e.g. unyt) for better xarray integration</p></li>
</ul>
<p>The first two items reverse the current state of MetPy’s calculations, which is to take xarray,
but convert to numpy + pint; the benefit is that unit information can be reconstructed as
necessary from xarray, but all calculations will then have access to coordinate information.
This is a 1.0 item because many calculations involving coordinate information will likely
change to simplify their interfaces.</p>
</div>
<div class="section" id="calculations">
<h3>Calculations<a class="headerlink" href="#calculations" title="Permalink to this headline">¶</a></h3>
<p>In addition to the work at the calculation infrastructure level, we have identified some
specific calculations that are necessary to consider MetPy a solution to the majority of the
problems users previously solved with GEMPAK:</p>
<ul class="simple">
<li><p>Indices (e.g. SWEAT, K-Index); these require the improved xarray integration to simplify
access across (usually vertical) coordinates</p></li>
<li><p>Dynamic tropopause</p></li>
<li><p>Elliptic PDE solver (leveraging SciPy)</p></li>
<li><p>Richardson number</p></li>
<li><p>Rossby number</p></li>
<li><p>Flux divergence (leading to e.g. Ageopotential flux)</p></li>
</ul>
<p>We also recognize a need to continue to improve the robustness of many of the sounding-based
calculations. These calculations tend to fail in many challenging real-world data cases.</p>
<p>One major area of development for the calculations is what we refer to as the “automated
solver.” The goal of the solver is to automate calculation of quantities of interest from
datasets. This reduces the need for variations on calculation functions that only change based
on the type of input data available. For example, this eliminates the need for different ways
to calculate relative humidity based on the available moisture parameters. This solver would
also eliminate the need to identify complicated sequences of function calls to go from standard
model output to fields of interest. This solver is enabled by xarray’s concept of Datasets as
well as by leveraging the netCDF Climate and Forecasting metadata standard’s concept of
“standard names” for identifying the types of variables. The standard function interface will
still exist for challenging cases. The solver will also enable the plotting of derived
quantities through the simplified plotting interface.</p>
</div>
<div class="section" id="file-format-support">
<h3>File Format Support<a class="headerlink" href="#file-format-support" title="Permalink to this headline">¶</a></h3>
<p>MetPy’s file format support is an important part of its feature set, and we want to continue to
expand the set of formats to which MetPy facilitates access. This also fits with filling
GEMPAK’s feature set, since its support for a variety of data formats was important to its
utility. Unlike GEMPAK, MetPy will never rely on a set of “decoders” to translate datafiles to
a new format. This goes against the spirit of fitting within the rest of the scientific Python
ecosystem. Instead, MetPy will provide tools that read data files and provide the data in one
of two data structures: Xarray Dataset or Pandas DataFrame. These two data structures are
widely used within the broader ecosystem.</p>
<p>We currently have identified the following formats as priority for support (in rough
prioritized order):</p>
<ul class="simple">
<li><p>BUFR</p></li>
<li><p>METAR</p></li>
<li><p>MCIDAS Area Files</p></li>
<li><p>GRIB</p></li>
</ul>
<p>We feel these formats are important to have Python support in order to ensure that Python users
have ready support for common, real-time data sources. GRIB currently is down on this list not
due to a lack of importance, but because the cfgrib and eccodes projects currently cover this,
in terms of access to data through xarray. In the future, though, the MetPy developers would
like to explore providing a pure-python solution for GRIB.</p>
<p>We would also like to support a wide variety of information and observations that the U.S.
National Weather Service distributes through text bulletins (e.g. hurricane dropsondes,
aircraft reconnaissance, frontal positions). Support is planned, but considered secondary to
those formats above.</p>
</div>
<div class="section" id="other-items">
<h3>Other Items<a class="headerlink" href="#other-items" title="Permalink to this headline">¶</a></h3>
<p>Here are a few more items that did not fit above:</p>
<ul class="simple">
<li><p>Performance optimization</p>
<ul>
<li><p>Moving calculations to Numba, Cython, etc. Numba would be the preferred solution, because
it would not incur packaging challenges. Past experiments with Numba and MetPy have not
been promising, though.</p></li>
<li><p>Make more calculations (e.g. CAPE) work on grids of data</p></li>
</ul>
</li>
</ul>
</div>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="CONTRIBUTING.html" title="previous page">Contributors Guide</a>
    <a class='right-next' id="next-link" href="infrastructureguide.html" title="next page">Infrastructure Guide</a>

              </div>
              
          </main>
          

      </div>
    </div>

    
  <script src="../_static/js/index.1e043a052b0af929e4d8.js"></script>


    
    <!-- Google Analytics -->
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-92978945-1', 'auto');
      ga('set', 'anonymizeIp', true);
      ga('send', 'pageview');
    </script>
    <script async src='https://www.google-analytics.com/analytics.js'></script>
    <!-- End Google Analytics -->
    <footer class="footer mt-5 mt-md-0">
  <div class="container">
    <p>
          &copy; Copyright 2008–2021, MetPy Developers. Development supported by National Science Foundation grants AGS-1344155, OAC-1740315, and AGS-1901712.<br/>
        Last updated on May 28, 2021 at 18:53:26.<br/>
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.5.4.<br/>
    </p>
  </div>
</footer>
  </body>
</html>