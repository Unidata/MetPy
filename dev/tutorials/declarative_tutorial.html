
<!DOCTYPE html>


<html lang="en" data-content_root="../" data-theme="auto">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>MetPy Declarative Syntax Tutorial &#8212; MetPy 1.6dev</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "auto";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "auto";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/theme-unidata.css?v=452fc297" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=452006c5"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-J48T2BG3J7"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-J48T2BG3J7');
            </script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-J48T2BG3J7');
            </script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'tutorials/declarative_tutorial';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://unidata.github.io/MetPy/pst-versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '1.6';
        DOCUMENTATION_OPTIONS.show_version_warning_banner =
            false;
        </script>
    <script src="../_static/doc_shared.js?v=fe4a670c"></script>
    <link rel="icon" href="../_static/metpy_32x32.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="MetPy 1.0 Upgrade Guide" href="../userguide/upgradeguide.html" />
    <link rel="prev" title="xarray with MetPy Tutorial" href="xarray_tutorial.html" />
    
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="1.6dev" />
    <meta name="docbuild:last-update" content="Apr 03, 2025 at 21:53:10"/>
    <link rel="canonical" href="https://unidata.github.io/MetPy/latest/tutorials/declarative_tutorial.html" />

  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="auto">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class=" navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/metpy_horizontal.png" class="logo__image only-light" alt="MetPy 1.6dev - Home"/>
    <img src="../_static/metpy_horizontal.png" class="logo__image only-dark pst-js-only" alt="MetPy 1.6dev - Home"/>
  
  
</a></div>
    
      <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
    
  </div>
  
  <div class=" navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../userguide/index.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../api/index.html">
    Reference Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../devel/index.html">
    Developerâ€™s Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../examples/index.html">
    Example Gallery
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../userguide/SUPPORT.html">
    Support
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://github.com/Unidata/MetPy/releases">
    Release Notes
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
        </div>
      
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/Unidata/MetPy" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://bsky.app/profile/metpy.bsky.social" title="Bluesky" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-bluesky fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Bluesky</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/MetPy" title="Twitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-twitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Twitter</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://calendar.google.com/calendar/embed?src=c_596cc34cd7196caec223786795c8730786aead6e2dbffe03403186f203075973%40group.calendar.google.com&ctz=America%2FDenver" title="Calendar" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-solid fa-calendar fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Calendar</span></a>
        </li>
</ul></div>
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  
    
    <div class="container-fluid" id="banner"></div>


  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../userguide/index.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../api/index.html">
    Reference Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../devel/index.html">
    Developerâ€™s Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../examples/index.html">
    Example Gallery
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../userguide/SUPPORT.html">
    Support
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://github.com/Unidata/MetPy/releases">
    Release Notes
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/Unidata/MetPy" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://bsky.app/profile/metpy.bsky.social" title="Bluesky" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-bluesky fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Bluesky</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/MetPy" title="Twitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-twitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Twitter</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://calendar.google.com/calendar/embed?src=c_596cc34cd7196caec223786795c8730786aead6e2dbffe03403186f203075973%40group.calendar.google.com&ctz=America%2FDenver" title="Calendar" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-solid fa-calendar fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Calendar</span></a>
        </li>
</ul></div>
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../userguide/installguide.html">Install Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userguide/startingguide.html">Getting Started with MetPy</a></li>
<li class="toctree-l1"><a class="reference internal" href="unit_tutorial.html">Working With Units</a></li>
<li class="toctree-l1"><a class="reference internal" href="area_tutorial.html">Using Predefined Areas with MetPy</a></li>
<li class="toctree-l1"><a class="reference internal" href="upperair_soundings.html">Upper Air Sounding Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="xarray_tutorial.html">xarray with MetPy Tutorial</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">MetPy Declarative Syntax Tutorial</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../userguide/upgradeguide.html">MetPy 1.0 Upgrade Guide</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../userguide/apichange.html">MetPy 1.0 API Changes</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../userguide/gempak.html">GEMPAK Comparison Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userguide/SUPPORT.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userguide/citing.html">Citing MetPy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userguide/media.html">Talks and Other Media</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../userguide/index.html" class="nav-link">User Guide</a></li>
    
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">&lt;no title&gt;</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">MetPy Declarative Syntax Tutorial</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#sphx-glr-download-tutorials-declarative-tutorial-py"><span class="std std-ref">Go to the end</span></a>
to download the full example code.</p>
</div>
<section class="sphx-glr-example-title" id="metpy-declarative-syntax-tutorial">
<span id="sphx-glr-tutorials-declarative-tutorial-py"></span><h1>MetPy Declarative Syntax Tutorial<a class="headerlink" href="#metpy-declarative-syntax-tutorial" title="Link to this heading">#</a></h1>
<p>The declarative syntax that is a part of the MetPy packaged is designed to aid in simple
data exploration and analysis needs by simplifying the plotting context from typical verbose
Python code. The complexity of data wrangling and plotting are hidden behind the simplified
syntax to allow a lower barrier to investigating your data.</p>
<section id="imports">
<h2>Imports<a class="headerlink" href="#imports" title="Link to this heading">#</a></h2>
<p>Youâ€™ll note that the number of imports is smaller due to using the declarative syntax.
There is no need to import Matplotlib or Cartopy to your code as all of that is done
behind the scenes.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class"><span class="n">datetime</span></a><span class="p">,</span> <a href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="datetime.timedelta" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class"><span class="n">timedelta</span></a>

<span class="kn">import</span><span class="w"> </span><span class="nn">xarray</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">xr</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">metpy.calc</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">mpcalc</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">metpy.cbook</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_test_data</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">metpy.io</span><span class="w"> </span><span class="kn">import</span> <span class="n">metar</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">metpy.plots.declarative</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span><a href="../api/generated/metpy.plots.BarbPlot.html#metpy.plots.BarbPlot" title="metpy.plots.BarbPlot" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class"><span class="n">BarbPlot</span></a><span class="p">,</span> <a href="../api/generated/metpy.plots.ContourPlot.html#metpy.plots.ContourPlot" title="metpy.plots.ContourPlot" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class"><span class="n">ContourPlot</span></a><span class="p">,</span> <a href="../api/generated/metpy.plots.FilledContourPlot.html#metpy.plots.FilledContourPlot" title="metpy.plots.FilledContourPlot" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class"><span class="n">FilledContourPlot</span></a><span class="p">,</span> <a href="../api/generated/metpy.plots.MapPanel.html#metpy.plots.MapPanel" title="metpy.plots.MapPanel" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class"><span class="n">MapPanel</span></a><span class="p">,</span>
                                     <a href="../api/generated/metpy.plots.PanelContainer.html#metpy.plots.PanelContainer" title="metpy.plots.PanelContainer" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class"><span class="n">PanelContainer</span></a><span class="p">,</span> <a href="../api/generated/metpy.plots.PlotObs.html#metpy.plots.PlotObs" title="metpy.plots.PlotObs" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class"><span class="n">PlotObs</span></a><span class="p">)</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">metpy.units</span><span class="w"> </span><span class="kn">import</span> <span class="n">units</span>
</pre></div>
</div>
</section>
<section id="getting-data">
<h2>Getting Data<a class="headerlink" href="#getting-data" title="Link to this heading">#</a></h2>
<p>Depending on what kind of data you are wanting to plot youâ€™ll use either Xarray (for gridded
data), Pandas (for CSV data), or the MetPy METAR parser (for METAR data).</p>
<p>Weâ€™ll start this tutorial by reading in a gridded dataset using Xarray.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Open the netCDF file as a xarray Dataset and parse the full dataset</span>
<a href="https://docs.xarray.dev/en/stable/generated/xarray.Dataset.html#xarray.Dataset" title="xarray.core.dataset.Dataset" class="sphx-glr-backref-module-xarray-core-dataset sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data</span></a> <span class="o">=</span> <a href="https://docs.xarray.dev/en/stable/generated/xarray.open_dataset.html#xarray.open_dataset" title="xarray.open_dataset" class="sphx-glr-backref-module-xarray sphx-glr-backref-type-py-function"><span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span></a><span class="p">(</span><span class="n">get_test_data</span><span class="p">(</span><span class="s1">&#39;GFS_test.nc&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span><span class="o">.</span><span class="n">metpy</span><span class="o">.</span><span class="n">parse_cf</span><span class="p">()</span>

<span class="c1"># View a summary of the Dataset</span>
<span class="nb">print</span><span class="p">(</span><a href="https://docs.xarray.dev/en/stable/generated/xarray.Dataset.html#xarray.Dataset" title="xarray.core.dataset.Dataset" class="sphx-glr-backref-module-xarray-core-dataset sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data</span></a><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;xarray.Dataset&gt; Size: 2MB
Dimensions:                                  (time: 1, isobaric3: 26, lat: 46,
                                              lon: 101,
                                              height_above_ground1: 1,
                                              isobaric5: 25,
                                              height_above_ground: 1)
Coordinates:
  * time                                     (time) datetime64[ns] 8B 2010-10...
  * isobaric3                                (isobaric3) float32 104B 1e+03 ....
  * lat                                      (lat) float32 184B 65.0 ... 20.0
  * lon                                      (lon) float32 404B 210.0 ... 310.0
    metpy_crs                                object 8B Projection: latitude_l...
  * height_above_ground1                     (height_above_ground1) float32 4B ...
  * isobaric5                                (isobaric5) float32 100B 1e+03 ....
  * height_above_ground                      (height_above_ground) float32 4B ...
Data variables:
    u-component_of_wind_isobaric             (time, isobaric3, lat, lon) float32 483kB ...
    v-component_of_wind_height_above_ground  (time, height_above_ground1, lat, lon) float32 19kB ...
    v-component_of_wind_isobaric             (time, isobaric3, lat, lon) float32 483kB ...
    Relative_humidity_isobaric               (time, isobaric5, lat, lon) float32 465kB ...
    Temperature_isobaric                     (time, isobaric3, lat, lon) float32 483kB ...
    u-component_of_wind_height_above_ground  (time, height_above_ground1, lat, lon) float32 19kB ...
    Temperature_height_above_ground          (time, height_above_ground, lat, lon) float32 19kB ...
    Geopotential_height_isobaric             (time, isobaric3, lat, lon) float32 483kB ...
    Pressure_reduced_to_MSL_msl              (time, lat, lon) float32 19kB ...
    LatLon_Projection                        int64 8B ...
</pre></div>
</div>
</section>
<section id="set-datetime">
<h2>Set Datetime<a class="headerlink" href="#set-datetime" title="Link to this heading">#</a></h2>
<p>Set the date/time of that you desire to plot</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">plot_time</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class"><span class="n">datetime</span></a><span class="p">(</span><span class="mi">2010</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">26</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="subsetting-data">
<h2>Subsetting Data<a class="headerlink" href="#subsetting-data" title="Link to this heading">#</a></h2>
<p>MetPy provides wrappers for the usual xarray indexing and selection routines that can handle
quantities with units. For DataArrays, MetPy also allows using the coordinate axis types
mentioned above as aliases for the coordinates. And so, if we wanted data to be just over
the U.S. for plotting purposes</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="https://docs.xarray.dev/en/stable/generated/xarray.Dataset.html#xarray.Dataset" title="xarray.core.dataset.Dataset" class="sphx-glr-backref-module-xarray-core-dataset sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ds</span></a> <span class="o">=</span> <a href="https://docs.xarray.dev/en/stable/generated/xarray.Dataset.html#xarray.Dataset" title="xarray.core.dataset.Dataset" class="sphx-glr-backref-module-xarray-core-dataset sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">data</span></a><span class="o">.</span><span class="n">metpy</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lat</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="mi">70</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">lon</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="mi">360</span> <span class="o">-</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">360</span> <span class="o">-</span> <span class="mi">55</span><span class="p">))</span>
</pre></div>
</div>
<p>For full details on xarray indexing/selection, see
<a class="reference external" href="https://docs.xarray.dev/en/stable/indexing.html">xarrayâ€™s documentation</a>.</p>
</section>
<section id="calculations">
<h2>Calculations<a class="headerlink" href="#calculations" title="Link to this heading">#</a></h2>
<p>In MetPy 1.0 and later, calculation functions accept Xarray DataArrayâ€™s as input and the
output a DataArray that can be easily added to an existing Dataset.</p>
<p>As an example, we calculate wind speed from the wind components and add it as a new variable
to our Dataset.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="https://docs.xarray.dev/en/stable/generated/xarray.Dataset.html#xarray.Dataset" title="xarray.core.dataset.Dataset" class="sphx-glr-backref-module-xarray-core-dataset sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ds</span></a><span class="p">[</span><span class="s1">&#39;wind_speed&#39;</span><span class="p">]</span> <span class="o">=</span> <a href="../api/generated/metpy.calc.wind_speed.html#metpy.calc.wind_speed" title="metpy.calc.wind_speed" class="sphx-glr-backref-module-metpy-calc sphx-glr-backref-type-py-function"><span class="n">mpcalc</span><span class="o">.</span><span class="n">wind_speed</span></a><span class="p">(</span><a href="https://docs.xarray.dev/en/stable/generated/xarray.Dataset.html#xarray.Dataset" title="xarray.core.dataset.Dataset" class="sphx-glr-backref-module-xarray-core-dataset sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ds</span></a><span class="p">[</span><span class="s1">&#39;u-component_of_wind_isobaric&#39;</span><span class="p">],</span>
                                     <a href="https://docs.xarray.dev/en/stable/generated/xarray.Dataset.html#xarray.Dataset" title="xarray.core.dataset.Dataset" class="sphx-glr-backref-module-xarray-core-dataset sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ds</span></a><span class="p">[</span><span class="s1">&#39;v-component_of_wind_isobaric&#39;</span><span class="p">])</span>
</pre></div>
</div>
</section>
<section id="plotting">
<h2>Plotting<a class="headerlink" href="#plotting" title="Link to this heading">#</a></h2>
<p>With that minimal preparation, we are now ready to use the simplified plotting syntax to be
able to plot our data and analyze the meteorological situation.</p>
<p>General Structure</p>
<ol class="arabic simple">
<li><p>Set contour attributes</p></li>
<li><p>Set map characteristics and collect contours</p></li>
<li><p>Collect panels and plot</p></li>
<li><p>Show (or save) the results</p></li>
</ol>
<p>Valid Plotting Types for Gridded Data:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ContourPlot()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FilledContourPlot()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ImagePlot()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BarbPlot()</span></code></p></li>
</ul>
<p>More complete descriptions of these and other plotting types, as well as the map panel and
panel container classes are at the end of this tutorial.</p>
<p>Letâ€™s plot a 300-hPa map with color-filled wind speed, which we calculated and added to
our Dataset above, and geopotential heights over the CONUS.</p>
<p>Weâ€™ll start by setting attributes for contours of Geopotential Heights at 300 hPa.
We need to set at least the data, field, level, and time attributes. Weâ€™ll set a few others
to have greater control over hour the data is plotted.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set attributes for contours of Geopotential Heights at 300 hPa</span>
<a href="../api/generated/metpy.plots.ContourPlot.html#metpy.plots.ContourPlot" title="metpy.plots.ContourPlot" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cntr2</span></a> <span class="o">=</span> <a href="../api/generated/metpy.plots.ContourPlot.html#metpy.plots.ContourPlot" title="metpy.plots.ContourPlot" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class"><span class="n">ContourPlot</span></a><span class="p">()</span>
<a href="../api/generated/metpy.plots.ContourPlot.html#metpy.plots.ContourPlot.data" title="metpy.plots.ContourPlot.data" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-attribute"><span class="n">cntr2</span><span class="o">.</span><span class="n">data</span></a> <span class="o">=</span> <a href="https://docs.xarray.dev/en/stable/generated/xarray.Dataset.html#xarray.Dataset" title="xarray.core.dataset.Dataset" class="sphx-glr-backref-module-xarray-core-dataset sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ds</span></a>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cntr2</span><span class="o">.</span><span class="n">field</span></a> <span class="o">=</span> <span class="s1">&#39;Geopotential_height_isobaric&#39;</span>
<a href="https://pint.readthedocs.io/en/stable/api/base.html#pint.Quantity" title="pint.Quantity" class="sphx-glr-backref-module-pint sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cntr2</span><span class="o">.</span><span class="n">level</span></a> <span class="o">=</span> <span class="mi">300</span> <span class="o">*</span> <a href="https://pint.readthedocs.io/en/stable/api/base.html#pint.Unit" title="pint.Unit" class="sphx-glr-backref-module-pint sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">units</span><span class="o">.</span><span class="n">hPa</span></a>
<a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cntr2</span><span class="o">.</span><span class="n">time</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">plot_time</span></a>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cntr2</span><span class="o">.</span><span class="n">contours</span></a> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10000</span><span class="p">,</span> <span class="mi">120</span><span class="p">))</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cntr2</span><span class="o">.</span><span class="n">linecolor</span></a> <span class="o">=</span> <span class="s1">&#39;black&#39;</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cntr2</span><span class="o">.</span><span class="n">linestyle</span></a> <span class="o">=</span> <span class="s1">&#39;solid&#39;</span>
<a href="https://docs.python.org/3/library/functions.html#bool" title="builtins.bool" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cntr2</span><span class="o">.</span><span class="n">clabels</span></a> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<p>Now weâ€™ll set the attributes for plotting color-filled contours of wind speed at 300 hPa.
Again, the attributes that must be set include data, field, level, and time. Weâ€™ll also set
a colormap and colorbar to be purposeful for wind speed. Additionally, weâ€™ll set the
attribute to change the units from m/s to knots, which is the common plotting units for
wind speed.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set attributes for plotting color-filled contours of wind speed at 300 hPa</span>
<a href="../api/generated/metpy.plots.FilledContourPlot.html#metpy.plots.FilledContourPlot" title="metpy.plots.FilledContourPlot" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cfill</span></a> <span class="o">=</span> <a href="../api/generated/metpy.plots.FilledContourPlot.html#metpy.plots.FilledContourPlot" title="metpy.plots.FilledContourPlot" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class"><span class="n">FilledContourPlot</span></a><span class="p">()</span>
<a href="../api/generated/metpy.plots.FilledContourPlot.html#metpy.plots.FilledContourPlot.data" title="metpy.plots.FilledContourPlot.data" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-attribute"><span class="n">cfill</span><span class="o">.</span><span class="n">data</span></a> <span class="o">=</span> <a href="https://docs.xarray.dev/en/stable/generated/xarray.Dataset.html#xarray.Dataset" title="xarray.core.dataset.Dataset" class="sphx-glr-backref-module-xarray-core-dataset sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ds</span></a>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cfill</span><span class="o">.</span><span class="n">field</span></a> <span class="o">=</span> <span class="s1">&#39;wind_speed&#39;</span>
<a href="https://pint.readthedocs.io/en/stable/api/base.html#pint.Quantity" title="pint.Quantity" class="sphx-glr-backref-module-pint sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cfill</span><span class="o">.</span><span class="n">level</span></a> <span class="o">=</span> <span class="mi">300</span> <span class="o">*</span> <a href="https://pint.readthedocs.io/en/stable/api/base.html#pint.Unit" title="pint.Unit" class="sphx-glr-backref-module-pint sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">units</span><span class="o">.</span><span class="n">hPa</span></a>
<a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cfill</span><span class="o">.</span><span class="n">time</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">plot_time</span></a>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cfill</span><span class="o">.</span><span class="n">contours</span></a> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">201</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cfill</span><span class="o">.</span><span class="n">colormap</span></a> <span class="o">=</span> <span class="s1">&#39;BuPu&#39;</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cfill</span><span class="o">.</span><span class="n">colorbar</span></a> <span class="o">=</span> <span class="s1">&#39;horizontal&#39;</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cfill</span><span class="o">.</span><span class="n">plot_units</span></a> <span class="o">=</span> <span class="s1">&#39;knot&#39;</span>
</pre></div>
</div>
<p>Once we have our contours (and any colorfill plots) set up, we will want to define the map
panel that weâ€™ll plot the data on. This is the place where we can set the view extent,
projection of our plot, add map lines like coastlines and states, set a plot title.
One of the key elements is to add the data to the map panel as a list with the plots
attribute.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set the attributes for the map and add our data to the map</span>
<a href="../api/generated/metpy.plots.MapPanel.html#metpy.plots.MapPanel" title="metpy.plots.MapPanel" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">panel</span></a> <span class="o">=</span> <a href="../api/generated/metpy.plots.MapPanel.html#metpy.plots.MapPanel" title="metpy.plots.MapPanel" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class"><span class="n">MapPanel</span></a><span class="p">()</span>
<a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">panel</span><span class="o">.</span><span class="n">area</span></a> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">125</span><span class="p">,</span> <span class="o">-</span><span class="mi">74</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">55</span><span class="p">]</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">panel</span><span class="o">.</span><span class="n">projection</span></a> <span class="o">=</span> <span class="s1">&#39;lcc&#39;</span>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">panel</span><span class="o">.</span><span class="n">layers</span></a> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;states&#39;</span><span class="p">,</span> <span class="s1">&#39;coastline&#39;</span><span class="p">,</span> <span class="s1">&#39;borders&#39;</span><span class="p">]</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">panel</span><span class="o">.</span><span class="n">title</span></a> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><a href="https://pint.readthedocs.io/en/stable/api/base.html#pint.Quantity.m" title="pint.Quantity.m" class="sphx-glr-backref-module-pint sphx-glr-backref-type-py-property"><span class="n">cfill</span><span class="o">.</span><span class="n">level</span><span class="o">.</span><span class="n">m</span></a><span class="si">}</span><span class="s1">-hPa Heights and Wind Speed at </span><span class="si">{</span><a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">plot_time</span></a><span class="si">}</span><span class="s1">&#39;</span>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">panel</span><span class="o">.</span><span class="n">plots</span></a> <span class="o">=</span> <span class="p">[</span><a href="../api/generated/metpy.plots.FilledContourPlot.html#metpy.plots.FilledContourPlot" title="metpy.plots.FilledContourPlot" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cfill</span></a><span class="p">,</span> <a href="../api/generated/metpy.plots.ContourPlot.html#metpy.plots.ContourPlot" title="metpy.plots.ContourPlot" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cntr2</span></a><span class="p">]</span>
</pre></div>
</div>
<p>Finally weâ€™ll collect all the panels to plot on the figure, set the size of the figure,
and ultimately show or save the figure.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set the attributes for the panel and put the panel in the figure</span>
<a href="../api/generated/metpy.plots.PanelContainer.html#metpy.plots.PanelContainer" title="metpy.plots.PanelContainer" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">pc</span></a> <span class="o">=</span> <a href="../api/generated/metpy.plots.PanelContainer.html#metpy.plots.PanelContainer" title="metpy.plots.PanelContainer" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class"><span class="n">PanelContainer</span></a><span class="p">()</span>
<a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">pc</span><span class="o">.</span><span class="n">size</span></a> <span class="o">=</span> <span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">pc</span><span class="o">.</span><span class="n">panels</span></a> <span class="o">=</span> <span class="p">[</span><a href="../api/generated/metpy.plots.MapPanel.html#metpy.plots.MapPanel" title="metpy.plots.MapPanel" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">panel</span></a><span class="p">]</span>
</pre></div>
</div>
<p>All of our setting now produce the following map!</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Show the image</span>
<a href="../api/generated/metpy.plots.PanelContainer.html#metpy.plots.PanelContainer.show" title="metpy.plots.PanelContainer.show" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-method"><span class="n">pc</span><span class="o">.</span><span class="n">show</span></a><span class="p">()</span>
</pre></div>
</div>
<img src="../_images/sphx_glr_declarative_tutorial_001.png" srcset="../_images/sphx_glr_declarative_tutorial_001.png" alt="300-hPa Heights and Wind Speed at 2010-10-26 12:00:00" class = "sphx-glr-single-img"/><p>Thatâ€™s it! What a nice looking map, with relatively simple set of code.</p>
</section>
<section id="adding-wind-barbs">
<h2>Adding Wind Barbs<a class="headerlink" href="#adding-wind-barbs" title="Link to this heading">#</a></h2>
<p>We can easily add wind barbs to the plot we generated above by adding another plot type
and adding it to the panel. The plot type for wind barbs is <code class="docutils literal notranslate"><span class="pre">BarbPlot()</span></code> and has its own
set of attributes to control plotting a vector quantity.</p>
<p>We start with setting the attributes that we had before for our 300 hPa plot including,
Geopotential Height contours, and color-filled wind speed.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set attributes for contours of Geopotential Heights at 300 hPa</span>
<a href="../api/generated/metpy.plots.ContourPlot.html#metpy.plots.ContourPlot" title="metpy.plots.ContourPlot" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cntr2</span></a> <span class="o">=</span> <a href="../api/generated/metpy.plots.ContourPlot.html#metpy.plots.ContourPlot" title="metpy.plots.ContourPlot" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class"><span class="n">ContourPlot</span></a><span class="p">()</span>
<a href="../api/generated/metpy.plots.ContourPlot.html#metpy.plots.ContourPlot.data" title="metpy.plots.ContourPlot.data" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-attribute"><span class="n">cntr2</span><span class="o">.</span><span class="n">data</span></a> <span class="o">=</span> <a href="https://docs.xarray.dev/en/stable/generated/xarray.Dataset.html#xarray.Dataset" title="xarray.core.dataset.Dataset" class="sphx-glr-backref-module-xarray-core-dataset sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ds</span></a>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cntr2</span><span class="o">.</span><span class="n">field</span></a> <span class="o">=</span> <span class="s1">&#39;Geopotential_height_isobaric&#39;</span>
<a href="https://pint.readthedocs.io/en/stable/api/base.html#pint.Quantity" title="pint.Quantity" class="sphx-glr-backref-module-pint sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cntr2</span><span class="o">.</span><span class="n">level</span></a> <span class="o">=</span> <span class="mi">300</span> <span class="o">*</span> <a href="https://pint.readthedocs.io/en/stable/api/base.html#pint.Unit" title="pint.Unit" class="sphx-glr-backref-module-pint sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">units</span><span class="o">.</span><span class="n">hPa</span></a>
<a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cntr2</span><span class="o">.</span><span class="n">time</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">plot_time</span></a>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cntr2</span><span class="o">.</span><span class="n">contours</span></a> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10000</span><span class="p">,</span> <span class="mi">120</span><span class="p">))</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cntr2</span><span class="o">.</span><span class="n">linecolor</span></a> <span class="o">=</span> <span class="s1">&#39;black&#39;</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cntr2</span><span class="o">.</span><span class="n">linestyle</span></a> <span class="o">=</span> <span class="s1">&#39;solid&#39;</span>
<a href="https://docs.python.org/3/library/functions.html#bool" title="builtins.bool" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cntr2</span><span class="o">.</span><span class="n">clabels</span></a> <span class="o">=</span> <span class="kc">True</span>

<span class="c1"># Set attributes for plotting color-filled contours of wind speed at 300 hPa</span>
<a href="../api/generated/metpy.plots.FilledContourPlot.html#metpy.plots.FilledContourPlot" title="metpy.plots.FilledContourPlot" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cfill</span></a> <span class="o">=</span> <a href="../api/generated/metpy.plots.FilledContourPlot.html#metpy.plots.FilledContourPlot" title="metpy.plots.FilledContourPlot" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class"><span class="n">FilledContourPlot</span></a><span class="p">()</span>
<a href="../api/generated/metpy.plots.FilledContourPlot.html#metpy.plots.FilledContourPlot.data" title="metpy.plots.FilledContourPlot.data" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-attribute"><span class="n">cfill</span><span class="o">.</span><span class="n">data</span></a> <span class="o">=</span> <a href="https://docs.xarray.dev/en/stable/generated/xarray.Dataset.html#xarray.Dataset" title="xarray.core.dataset.Dataset" class="sphx-glr-backref-module-xarray-core-dataset sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ds</span></a>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cfill</span><span class="o">.</span><span class="n">field</span></a> <span class="o">=</span> <span class="s1">&#39;wind_speed&#39;</span>
<a href="https://pint.readthedocs.io/en/stable/api/base.html#pint.Quantity" title="pint.Quantity" class="sphx-glr-backref-module-pint sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cfill</span><span class="o">.</span><span class="n">level</span></a> <span class="o">=</span> <span class="mi">300</span> <span class="o">*</span> <a href="https://pint.readthedocs.io/en/stable/api/base.html#pint.Unit" title="pint.Unit" class="sphx-glr-backref-module-pint sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">units</span><span class="o">.</span><span class="n">hPa</span></a>
<a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cfill</span><span class="o">.</span><span class="n">time</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">plot_time</span></a>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cfill</span><span class="o">.</span><span class="n">contours</span></a> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">201</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cfill</span><span class="o">.</span><span class="n">colormap</span></a> <span class="o">=</span> <span class="s1">&#39;BuPu&#39;</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cfill</span><span class="o">.</span><span class="n">colorbar</span></a> <span class="o">=</span> <span class="s1">&#39;horizontal&#39;</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cfill</span><span class="o">.</span><span class="n">plot_units</span></a> <span class="o">=</span> <span class="s1">&#39;knot&#39;</span>
</pre></div>
</div>
<p>Now weâ€™ll set the attributes for plotting wind barbs, with the required attributes of data,
time, field, and level. The skip attribute is particularly useful for thinning the number of
wind barbs that are plotted on the map. Again we convert to units of knots.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set attributes for plotting wind barbs</span>
<a href="../api/generated/metpy.plots.BarbPlot.html#metpy.plots.BarbPlot" title="metpy.plots.BarbPlot" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">barbs</span></a> <span class="o">=</span> <a href="../api/generated/metpy.plots.BarbPlot.html#metpy.plots.BarbPlot" title="metpy.plots.BarbPlot" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class"><span class="n">BarbPlot</span></a><span class="p">()</span>
<a href="../api/generated/metpy.plots.BarbPlot.html#metpy.plots.BarbPlot.data" title="metpy.plots.BarbPlot.data" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-attribute"><span class="n">barbs</span><span class="o">.</span><span class="n">data</span></a> <span class="o">=</span> <a href="https://docs.xarray.dev/en/stable/generated/xarray.Dataset.html#xarray.Dataset" title="xarray.core.dataset.Dataset" class="sphx-glr-backref-module-xarray-core-dataset sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">ds</span></a>
<a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">barbs</span><span class="o">.</span><span class="n">time</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">plot_time</span></a>
<a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">barbs</span><span class="o">.</span><span class="n">field</span></a> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;u-component_of_wind_isobaric&#39;</span><span class="p">,</span> <span class="s1">&#39;v-component_of_wind_isobaric&#39;</span><span class="p">]</span>
<a href="https://pint.readthedocs.io/en/stable/api/base.html#pint.Quantity" title="pint.Quantity" class="sphx-glr-backref-module-pint sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">barbs</span><span class="o">.</span><span class="n">level</span></a> <span class="o">=</span> <span class="mi">300</span> <span class="o">*</span> <a href="https://pint.readthedocs.io/en/stable/api/base.html#pint.Unit" title="pint.Unit" class="sphx-glr-backref-module-pint sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">units</span><span class="o">.</span><span class="n">hPa</span></a>
<a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">barbs</span><span class="o">.</span><span class="n">skip</span></a> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">barbs</span><span class="o">.</span><span class="n">plot_units</span></a> <span class="o">=</span> <span class="s1">&#39;knot&#39;</span>
</pre></div>
</div>
<p>Add all of our plot types to the panel, donâ€™t forget to add in the new wind barbs to our plot
list!</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set the attributes for the map and add our data to the map</span>
<a href="../api/generated/metpy.plots.MapPanel.html#metpy.plots.MapPanel" title="metpy.plots.MapPanel" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">panel</span></a> <span class="o">=</span> <a href="../api/generated/metpy.plots.MapPanel.html#metpy.plots.MapPanel" title="metpy.plots.MapPanel" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class"><span class="n">MapPanel</span></a><span class="p">()</span>
<a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">panel</span><span class="o">.</span><span class="n">area</span></a> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">125</span><span class="p">,</span> <span class="o">-</span><span class="mi">74</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">55</span><span class="p">]</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">panel</span><span class="o">.</span><span class="n">projection</span></a> <span class="o">=</span> <span class="s1">&#39;lcc&#39;</span>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">panel</span><span class="o">.</span><span class="n">layers</span></a> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;states&#39;</span><span class="p">,</span> <span class="s1">&#39;coastline&#39;</span><span class="p">,</span> <span class="s1">&#39;borders&#39;</span><span class="p">]</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">panel</span><span class="o">.</span><span class="n">title</span></a> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><a href="https://pint.readthedocs.io/en/stable/api/base.html#pint.Quantity.m" title="pint.Quantity.m" class="sphx-glr-backref-module-pint sphx-glr-backref-type-py-property"><span class="n">cfill</span><span class="o">.</span><span class="n">level</span><span class="o">.</span><span class="n">m</span></a><span class="si">}</span><span class="s1">-hPa Heights and Wind Speed at </span><span class="si">{</span><a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">plot_time</span></a><span class="si">}</span><span class="s1">&#39;</span>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">panel</span><span class="o">.</span><span class="n">plots</span></a> <span class="o">=</span> <span class="p">[</span><a href="../api/generated/metpy.plots.FilledContourPlot.html#metpy.plots.FilledContourPlot" title="metpy.plots.FilledContourPlot" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cfill</span></a><span class="p">,</span> <a href="../api/generated/metpy.plots.ContourPlot.html#metpy.plots.ContourPlot" title="metpy.plots.ContourPlot" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">cntr2</span></a><span class="p">,</span> <a href="../api/generated/metpy.plots.BarbPlot.html#metpy.plots.BarbPlot" title="metpy.plots.BarbPlot" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">barbs</span></a><span class="p">]</span>

<span class="c1"># Set the attributes for the panel and put the panel in the figure</span>
<a href="../api/generated/metpy.plots.PanelContainer.html#metpy.plots.PanelContainer" title="metpy.plots.PanelContainer" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">pc</span></a> <span class="o">=</span> <a href="../api/generated/metpy.plots.PanelContainer.html#metpy.plots.PanelContainer" title="metpy.plots.PanelContainer" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class"><span class="n">PanelContainer</span></a><span class="p">()</span>
<a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">pc</span><span class="o">.</span><span class="n">size</span></a> <span class="o">=</span> <span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">pc</span><span class="o">.</span><span class="n">panels</span></a> <span class="o">=</span> <span class="p">[</span><a href="../api/generated/metpy.plots.MapPanel.html#metpy.plots.MapPanel" title="metpy.plots.MapPanel" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">panel</span></a><span class="p">]</span>

<span class="c1"># Show the figure</span>
<a href="../api/generated/metpy.plots.PanelContainer.html#metpy.plots.PanelContainer.show" title="metpy.plots.PanelContainer.show" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-method"><span class="n">pc</span><span class="o">.</span><span class="n">show</span></a><span class="p">()</span>
</pre></div>
</div>
<img src="../_images/sphx_glr_declarative_tutorial_002.png" srcset="../_images/sphx_glr_declarative_tutorial_002.png" alt="300-hPa Heights and Wind Speed at 2010-10-26 12:00:00" class = "sphx-glr-single-img"/></section>
<section id="plot-surface-obs">
<h2>Plot Surface Obs<a class="headerlink" href="#plot-surface-obs" title="Link to this heading">#</a></h2>
<p>We can also plot surface (or upper-air) observations at point locations using the simplified
syntax. Whether it is surface or upper-air data, the <code class="docutils literal notranslate"><span class="pre">PlotObs()</span></code> class is what you would
want to use. Then you would add those observations to a map panel and then collect the panels
to plot the figure; similar to what you would do for a gridded plot.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.core.frame.DataFrame" class="sphx-glr-backref-module-pandas-core-frame sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">df</span></a> <span class="o">=</span> <a href="../api/generated/metpy.io.parse_metar_file.html#metpy.io.parse_metar_file" title="metpy.io.parse_metar_file" class="sphx-glr-backref-module-metpy-io sphx-glr-backref-type-py-function"><span class="n">metar</span><span class="o">.</span><span class="n">parse_metar_file</span></a><span class="p">(</span><span class="n">get_test_data</span><span class="p">(</span><span class="s1">&#39;metar_20190701_1200.txt&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">),</span> <span class="n">year</span><span class="o">=</span><span class="mi">2019</span><span class="p">,</span>
                            <span class="n">month</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>

<span class="c1"># Let&#39;s take a look at the variables that we could plot coming from our METAR observations.</span>
<span class="nb">print</span><span class="p">(</span><a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.keys.html#pandas.DataFrame.keys" title="pandas.DataFrame.keys" class="sphx-glr-backref-module-pandas sphx-glr-backref-type-py-method"><span class="n">df</span><span class="o">.</span><span class="n">keys</span></a><span class="p">())</span>

<span class="c1"># Set the observation time</span>
<a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">obs_time</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class"><span class="n">datetime</span></a><span class="p">(</span><span class="mi">2019</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>Index([&#39;station_id&#39;, &#39;latitude&#39;, &#39;longitude&#39;, &#39;elevation&#39;, &#39;date_time&#39;,
       &#39;wind_direction&#39;, &#39;wind_speed&#39;, &#39;wind_gust&#39;, &#39;visibility&#39;,
       &#39;current_wx1&#39;, &#39;current_wx2&#39;, &#39;current_wx3&#39;, &#39;low_cloud_type&#39;,
       &#39;low_cloud_level&#39;, &#39;medium_cloud_type&#39;, &#39;medium_cloud_level&#39;,
       &#39;high_cloud_type&#39;, &#39;high_cloud_level&#39;, &#39;highest_cloud_type&#39;,
       &#39;highest_cloud_level&#39;, &#39;cloud_coverage&#39;, &#39;air_temperature&#39;,
       &#39;dew_point_temperature&#39;, &#39;altimeter&#39;, &#39;current_wx1_symbol&#39;,
       &#39;current_wx2_symbol&#39;, &#39;current_wx3_symbol&#39;, &#39;remarks&#39;,
       &#39;air_pressure_at_sea_level&#39;, &#39;eastward_wind&#39;, &#39;northward_wind&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
<p>Setting of our attributes for plotting observations is pretty straightforward and just needs
to be lists for the variables, and a comparable number of items for plot characteristics that
are specific to the individual fields. For example, the locations around a station plot, the
plot units, and any plotting formats would all need to have the same number of items as the
fields attribute.</p>
<p>Plotting wind bards is done through the vector_field attribute. You can reduce the number
of points plotted (especially important for surface observations) with the <code class="docutils literal notranslate"><span class="pre">reduce_points</span></code>
attribute.</p>
<p>For a very basic plot of one field, the minimum required attributes are the data, time,
fields, and location attributes.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot desired data</span>
<a href="../api/generated/metpy.plots.PlotObs.html#metpy.plots.PlotObs" title="metpy.plots.PlotObs" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">obs</span></a> <span class="o">=</span> <a href="../api/generated/metpy.plots.PlotObs.html#metpy.plots.PlotObs" title="metpy.plots.PlotObs" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class"><span class="n">PlotObs</span></a><span class="p">()</span>
<a href="../api/generated/metpy.plots.PlotObs.html#metpy.plots.PlotObs.data" title="metpy.plots.PlotObs.data" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-attribute"><span class="n">obs</span><span class="o">.</span><span class="n">data</span></a> <span class="o">=</span> <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="pandas.core.frame.DataFrame" class="sphx-glr-backref-module-pandas-core-frame sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">df</span></a>
<a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">obs</span><span class="o">.</span><span class="n">time</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">obs_time</span></a>
<a href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="datetime.timedelta" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">obs</span><span class="o">.</span><span class="n">time_window</span></a> <span class="o">=</span> <a href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="datetime.timedelta" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class"><span class="n">timedelta</span></a><span class="p">(</span><span class="n">minutes</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<a href="../api/generated/metpy.plots.PlotObs.html#metpy.plots.PlotObs" title="metpy.plots.PlotObs" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">obs</span></a><span class="o">.</span><span class="n">level</span> <span class="o">=</span> <span class="kc">None</span>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">obs</span><span class="o">.</span><span class="n">fields</span></a> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;cloud_coverage&#39;</span><span class="p">,</span> <span class="s1">&#39;air_temperature&#39;</span><span class="p">,</span> <span class="s1">&#39;dew_point_temperature&#39;</span><span class="p">,</span>
              <span class="s1">&#39;air_pressure_at_sea_level&#39;</span><span class="p">,</span> <span class="s1">&#39;current_wx1_symbol&#39;</span><span class="p">]</span>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">obs</span><span class="o">.</span><span class="n">plot_units</span></a> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;degF&#39;</span><span class="p">,</span> <span class="s1">&#39;degF&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">obs</span><span class="o">.</span><span class="n">locations</span></a> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;NW&#39;</span><span class="p">,</span> <span class="s1">&#39;SW&#39;</span><span class="p">,</span> <span class="s1">&#39;NE&#39;</span><span class="p">,</span> <span class="s1">&#39;W&#39;</span><span class="p">]</span>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">obs</span><span class="o">.</span><span class="n">formats</span></a> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sky_cover&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="nb">format</span><span class="p">(</span><span class="n">v</span> <span class="o">*</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;.0f&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">3</span><span class="p">:],</span>
               <span class="s1">&#39;current_weather&#39;</span><span class="p">]</span>
<a href="https://docs.python.org/3/library/functions.html#float" title="builtins.float" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">obs</span><span class="o">.</span><span class="n">reduce_points</span></a> <span class="o">=</span> <span class="mf">0.75</span>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">obs</span><span class="o">.</span><span class="n">vector_field</span></a> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;eastward_wind&#39;</span><span class="p">,</span> <span class="s1">&#39;northward_wind&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>We use the same Classes for plotting our data on a map panel and collecting all the
panels on the figure. In this case weâ€™ll focus in on the state of Indiana for plotting.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Panel for plot with Map features</span>
<a href="../api/generated/metpy.plots.MapPanel.html#metpy.plots.MapPanel" title="metpy.plots.MapPanel" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">panel</span></a> <span class="o">=</span> <a href="../api/generated/metpy.plots.MapPanel.html#metpy.plots.MapPanel" title="metpy.plots.MapPanel" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class"><span class="n">MapPanel</span></a><span class="p">()</span>
<a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">panel</span><span class="o">.</span><span class="n">layout</span></a> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">panel</span><span class="o">.</span><span class="n">projection</span></a> <span class="o">=</span> <span class="s1">&#39;lcc&#39;</span>
<a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">panel</span><span class="o">.</span><span class="n">area</span></a> <span class="o">=</span> <span class="s1">&#39;in&#39;</span>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">panel</span><span class="o">.</span><span class="n">layers</span></a> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;states&#39;</span><span class="p">]</span>
<a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">panel</span><span class="o">.</span><span class="n">title</span></a> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;Surface plot for </span><span class="si">{</span><a href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="datetime.datetime" class="sphx-glr-backref-module-datetime sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">obs_time</span></a><span class="si">}</span><span class="s1">&#39;</span>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">panel</span><span class="o">.</span><span class="n">plots</span></a> <span class="o">=</span> <span class="p">[</span><a href="../api/generated/metpy.plots.PlotObs.html#metpy.plots.PlotObs" title="metpy.plots.PlotObs" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">obs</span></a><span class="p">]</span>

<span class="c1"># Bringing it all together</span>
<a href="../api/generated/metpy.plots.PanelContainer.html#metpy.plots.PanelContainer" title="metpy.plots.PanelContainer" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">pc</span></a> <span class="o">=</span> <a href="../api/generated/metpy.plots.PanelContainer.html#metpy.plots.PanelContainer" title="metpy.plots.PanelContainer" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class"><span class="n">PanelContainer</span></a><span class="p">()</span>
<a href="https://docs.python.org/3/library/stdtypes.html#tuple" title="builtins.tuple" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">pc</span><span class="o">.</span><span class="n">size</span></a> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<a href="https://docs.python.org/3/library/stdtypes.html#list" title="builtins.list" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">pc</span><span class="o">.</span><span class="n">panels</span></a> <span class="o">=</span> <span class="p">[</span><a href="../api/generated/metpy.plots.MapPanel.html#metpy.plots.MapPanel" title="metpy.plots.MapPanel" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">panel</span></a><span class="p">]</span>

<a href="../api/generated/metpy.plots.PanelContainer.html#metpy.plots.PanelContainer.show" title="metpy.plots.PanelContainer.show" class="sphx-glr-backref-module-metpy-plots sphx-glr-backref-type-py-method"><span class="n">pc</span><span class="o">.</span><span class="n">show</span></a><span class="p">()</span>
</pre></div>
</div>
<img src="../_images/sphx_glr_declarative_tutorial_003.png" srcset="../_images/sphx_glr_declarative_tutorial_003.png" alt="Surface plot for 2019-07-01 12:00:00" class = "sphx-glr-single-img"/></section>
<section id="detailed-attribute-descriptions">
<h2>Detailed Attribute Descriptions<a class="headerlink" href="#detailed-attribute-descriptions" title="Link to this heading">#</a></h2>
<p>This final section contains verbose descriptions of the attributes that can be set by the
plot types used in this tutorial.</p>
</section>
<section id="contourplot">
<h2>ContourPlot()<a class="headerlink" href="#contourplot" title="Link to this heading">#</a></h2>
<p>This class is designed to plot contours of gridded data, most commonly model output from the
GFS, NAM, RAP, or other gridded dataset (e.g., NARR).</p>
<p>Attributes:</p>
<p><code class="docutils literal notranslate"><span class="pre">data</span></code></p>
<p>This attribute must be set with the variable name that contains the xarray dataset.
(Typically this is the variable ds)</p>
<p><code class="docutils literal notranslate"><span class="pre">field</span></code></p>
<p>This attribute must be set with the name of the variable that you want to contour.
For example, to plot the heights of pressure surfaces from the GFS you would use the name
<code class="docutils literal notranslate"><span class="pre">â€˜Geopotential_height_isobaricâ€™</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">level</span></code></p>
<p>This attribute sets the level of the data you wish to plot. If it is a pressure level,
then it must be set to a unit bearing value (e.g., 500*units.hPa). If the variable does
not have any vertical levels (e.g., mean sea-level pressure), then the level attribute must
be set to None.</p>
<p><code class="docutils literal notranslate"><span class="pre">time</span></code></p>
<p>This attribute must be set with a datetime object, just as with the <code class="docutils literal notranslate"><span class="pre">PlotObs()</span></code> class.
To get a forecast hour, you can use the timedelta function from datetime to add the number of
hours into the future you wish to plot. For example, if you wanted the six hour forecast from
the 00 UTC 2 February 2020 model run, then you would set the attribute with:</p>
<p><code class="docutils literal notranslate"><span class="pre">datetime(2020,</span> <span class="pre">2,</span> <span class="pre">2,</span> <span class="pre">0)</span> <span class="pre">+</span> <span class="pre">timedelta(hours=6)</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">contours</span></code></p>
<p>This attribute sets the contour values to be plotted with a list. This can be set manually
with a list of integers in square brackets (e.g., <code class="docutils literal notranslate"><span class="pre">[5400,</span> <span class="pre">5460,</span> <span class="pre">5520,</span> <span class="pre">5580,</span> <span class="pre">5640,</span> <span class="pre">5700]</span></code>)
or programmatically (e.g., <code class="docutils literal notranslate"><span class="pre">list(range(0,</span> <span class="pre">10000,</span> <span class="pre">60))</span></code>). The second method is a way to
easily set a contour interval (in this case 60).</p>
<p><code class="docutils literal notranslate"><span class="pre">clabel</span></code></p>
<p>This attribute can be set to <code class="docutils literal notranslate"><span class="pre">True</span></code> if you desire to have your contours labeled.</p>
<p><code class="docutils literal notranslate"><span class="pre">linestyle</span></code></p>
<p>This attribute can be set to make the contours <code class="docutils literal notranslate"><span class="pre">â€˜solidâ€™</span></code>, <code class="docutils literal notranslate"><span class="pre">â€˜dashedâ€™</span></code>, <code class="docutils literal notranslate"><span class="pre">â€˜dottedâ€™</span></code>,
or <code class="docutils literal notranslate"><span class="pre">â€˜dashdotâ€™</span></code>. Other linestyles are can be used and are found at:
<a class="reference external" href="https://matplotlib.org/3.1.0/gallery/lines_bars_and_markers/linestyles.html">https://matplotlib.org/3.1.0/gallery/lines_bars_and_markers/linestyles.html</a></p>
<p>Default is <code class="docutils literal notranslate"><span class="pre">â€˜solidâ€™</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">linewidth</span></code></p>
<p>This attribute alters the width of the contours (defaults to 1). Setting the value greater
than 1 will yield a thicker contour line.</p>
<p><code class="docutils literal notranslate"><span class="pre">linecolor</span></code></p>
<p>This attribute sets the color of the contour lines. Default is <code class="docutils literal notranslate"><span class="pre">â€˜blackâ€™</span></code>. All colors from
matplotlib are valid: <a class="reference external" href="https://matplotlib.org/3.1.0/_images/sphx_glr_named_colors_003.png">https://matplotlib.org/3.1.0/_images/sphx_glr_named_colors_003.png</a></p>
<p><code class="docutils literal notranslate"><span class="pre">plot_units</span></code></p>
<p>If you want to change the units for plotting purposes, add the string value of the units
desired. For example, if you want to plot temperature in Celsius, then set this attribute
to <code class="docutils literal notranslate"><span class="pre">â€˜degCâ€™</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">scale</span></code></p>
<p>This attribute will scale the field by multiplying by the scale. For example, to
scale vorticity to be whole values for contouring you could set the scale to 1e5, such that
the data values will be multiplied by 10^5.</p>
</section>
<section id="filledcontourplot">
<h2>FilledContourPlot()<a class="headerlink" href="#filledcontourplot" title="Link to this heading">#</a></h2>
<p>Works very similarly to <code class="docutils literal notranslate"><span class="pre">ContourPlot()</span></code>, except that contours are filled using a colormap
between contour values. All attributes for <code class="docutils literal notranslate"><span class="pre">ContourPlot()</span></code> work for color-filled plots,
except for linestyle, linecolor, and linewidth. Additionally, there are the following
attributes that work for color-filling:</p>
<p>Attributes:</p>
<p><code class="docutils literal notranslate"><span class="pre">colormap</span></code></p>
<p>This attribute is used to set a valid colormap from either Matplotlib or MetPy:
Matplotlib Colormaps: <a class="reference external" href="https://matplotlib.org/3.1.1/gallery/color/colormap_reference.html">https://matplotlib.org/3.1.1/gallery/color/colormap_reference.html</a>
MetPy Colormaps: <a class="reference external" href="https://unidata.github.io/MetPy/v1.0/api/generated/metpy.plots.ctables.html">https://unidata.github.io/MetPy/v1.0/api/generated/metpy.plots.ctables.html</a></p>
<p><code class="docutils literal notranslate"><span class="pre">colorbar</span></code></p>
<p>This attribute can be set to <code class="docutils literal notranslate"><span class="pre">â€˜verticalâ€™</span></code> or <code class="docutils literal notranslate"><span class="pre">â€˜horizontalâ€™</span></code>, which is the location the
colorbar will be plotted on the panel.</p>
<p><code class="docutils literal notranslate"><span class="pre">image_range</span></code></p>
<p>A set of values indicating the minimum and maximum for the data being plotted. This
attribute should be set as <code class="docutils literal notranslate"><span class="pre">(min_value,</span> <span class="pre">max_value)</span></code>, where min_value and max_value are
numeric values.</p>
</section>
<section id="panelcontainer">
<h2>PanelContainer()<a class="headerlink" href="#panelcontainer" title="Link to this heading">#</a></h2>
<p>Attributes:</p>
<p><code class="docutils literal notranslate"><span class="pre">size</span></code></p>
<p>The size of the figure in inches (e.g., (10, 8))</p>
<p><code class="docutils literal notranslate"><span class="pre">panels</span></code></p>
<p>A list collecting the panels to be plotted in the figure.</p>
<p><code class="docutils literal notranslate"><span class="pre">show</span></code></p>
<p>Show the plot</p>
<p><code class="docutils literal notranslate"><span class="pre">save</span></code></p>
<p>Save the figure using the Matplotlib arguments/keyword arguments</p>
</section>
<section id="mappanel">
<h2>MapPanel()<a class="headerlink" href="#mappanel" title="Link to this heading">#</a></h2>
<p>Attributes:</p>
<p><code class="docutils literal notranslate"><span class="pre">layout</span></code></p>
<p>The Matplotlib layout of the figure. For a single panel figure the setting should be
<code class="docutils literal notranslate"><span class="pre">(1,</span> <span class="pre">1,</span> <span class="pre">1)</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">projection</span></code></p>
<p>The projection can be set with the name of a default projection (<code class="docutils literal notranslate"><span class="pre">â€˜lccâ€™</span></code>, <code class="docutils literal notranslate"><span class="pre">â€˜merâ€™</span></code>, or
<code class="docutils literal notranslate"><span class="pre">â€˜psâ€™</span></code>) or it can be set to a Cartopy projection.</p>
<p><code class="docutils literal notranslate"><span class="pre">layers</span></code></p>
<p>This attribute will add map layers to identify boundaries or features to plot on the map.
Valid layers are <code class="docutils literal notranslate"><span class="pre">'borders'</span></code>, <code class="docutils literal notranslate"><span class="pre">'coastline'</span></code>, <code class="docutils literal notranslate"><span class="pre">'states'</span></code>, <code class="docutils literal notranslate"><span class="pre">'lakes'</span></code>, <code class="docutils literal notranslate"><span class="pre">'land'</span></code>,
<code class="docutils literal notranslate"><span class="pre">'ocean'</span></code>, <code class="docutils literal notranslate"><span class="pre">'rivers'</span></code>, <code class="docutils literal notranslate"><span class="pre">'counties'</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">area</span></code></p>
<p>This attribute sets the geographical area of the panel. This can be set with a predefined
name of an area including all US state postal abbreviations (e.g., <code class="docutils literal notranslate"><span class="pre">â€˜usâ€™</span></code>, <code class="docutils literal notranslate"><span class="pre">â€˜natlâ€™</span></code>,
<code class="docutils literal notranslate"><span class="pre">â€˜inâ€™</span></code>, <code class="docutils literal notranslate"><span class="pre">â€˜ilâ€™</span></code>, <code class="docutils literal notranslate"><span class="pre">â€˜wiâ€™</span></code>, <code class="docutils literal notranslate"><span class="pre">â€˜miâ€™</span></code>, etc.) or a tuple value that corresponds to
longitude/latitude box based on the projection of the map with the format
<code class="docutils literal notranslate"><span class="pre">(west-most</span> <span class="pre">longitude,</span> <span class="pre">east-most</span> <span class="pre">longitude,</span> <span class="pre">south-most</span> <span class="pre">latitude,</span> <span class="pre">north-most</span> <span class="pre">latitude)</span></code>.
This tuple defines a box from the lower-left to the upper-right corner.</p>
<p><code class="docutils literal notranslate"><span class="pre">title</span></code></p>
<p>This attribute sets a title for the panel.</p>
<p><code class="docutils literal notranslate"><span class="pre">plots</span></code></p>
<p>A list collecting the observations to be plotted in the panel.</p>
</section>
<section id="barbplot">
<h2>BarbPlot()<a class="headerlink" href="#barbplot" title="Link to this heading">#</a></h2>
<p>This plot class is used to add wind barbs to the plot with the following</p>
<p>Attributes:</p>
<p><code class="docutils literal notranslate"><span class="pre">data</span></code></p>
<p>This attribute must be set to the variable that contains the vector components to be plotted.</p>
<p><code class="docutils literal notranslate"><span class="pre">field</span></code></p>
<p>This attribute is a list of the vector components to be plotted. For the typical
meteorological case it would be the <code class="docutils literal notranslate"><span class="pre">[â€˜u-componentâ€™,</span> <span class="pre">â€˜v-componentâ€™]</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">time</span></code></p>
<p>This attribute should be set to a datetime object, the same as for all other declarative
classes.</p>
<p><code class="docutils literal notranslate"><span class="pre">barblength</span></code></p>
<p>This attribute sets the length of the wind barbs. The default value is based on the
font size.</p>
<p><code class="docutils literal notranslate"><span class="pre">color</span></code></p>
<p>This attribute sets the color of the wind barbs, which can be any Matplotlib color.
Default color is <code class="docutils literal notranslate"><span class="pre">â€˜blackâ€™</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">earth_relative</span></code></p>
<p>This attribute can be set to False if the vector components are grid relative (e.g., for NAM
or NARR output)</p>
<p><code class="docutils literal notranslate"><span class="pre">pivot</span></code></p>
<p>This attribute can be set to a string value about where the wind barb will pivot relative to
the grid point. Possible values include <code class="docutils literal notranslate"><span class="pre">â€˜tipâ€™</span></code> or <code class="docutils literal notranslate"><span class="pre">â€˜middleâ€™</span></code>. Default is <code class="docutils literal notranslate"><span class="pre">â€˜middleâ€™</span></code>.</p>
</section>
<section id="plotobs">
<h2>PlotObs()<a class="headerlink" href="#plotobs" title="Link to this heading">#</a></h2>
<p>This class is used to plot point observations from the surface or upper-air.</p>
<p>Attributes:</p>
<p><code class="docutils literal notranslate"><span class="pre">data</span></code></p>
<p>This attribute needs to be set to the DataFrame variable containing the fields that you
desire to plot.</p>
<p><code class="docutils literal notranslate"><span class="pre">fields</span></code></p>
<p>This attribute is a list of variable names from your DataFrame that you desire to plot at the
given locations around the station model.</p>
<p><code class="docutils literal notranslate"><span class="pre">level</span></code></p>
<p>For a surface plot this needs to be set to None.</p>
<p><code class="docutils literal notranslate"><span class="pre">time</span></code></p>
<p>This attribute needs to be set to subset your data attribute for the time of the observations
to be plotted. This needs to be a datetime object.</p>
<p><code class="docutils literal notranslate"><span class="pre">locations</span></code></p>
<p>This attribute sets the location of the fields to be plotted around the surface station
model. The default location is center <code class="docutils literal notranslate"><span class="pre">(â€˜Câ€™)</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">time_window</span></code></p>
<p>This attribute allows you to define a window for valid observations (e.g., 15 minutes on
either side of the datetime object setting. This is important for surface data since actual
observed times are not all exactly on the hour. If multiple observations exist in the defined
window, the most recent observations is retained for plotting purposes.</p>
<p><code class="docutils literal notranslate"><span class="pre">formats</span></code></p>
<p>This attribute sets a formatter for text or plotting symbols around the station model. For
example, plotting mean sea-level pressure is done in a three-digit code and a formatter can
be used to achieve that on the station plot.</p>
<p>MSLP Formatter: <code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">v:</span> <span class="pre">format(10</span> <span class="pre">*</span> <span class="pre">v,</span> <span class="pre">'.0f')[-3:]</span></code></p>
<p>For plotting symbols use the available MetPy options through their name. Valid symbol formats
are <code class="docutils literal notranslate"><span class="pre">'current_weather'</span></code>, <code class="docutils literal notranslate"><span class="pre">'sky_cover'</span></code>, <code class="docutils literal notranslate"><span class="pre">'low_clouds'</span></code>, <code class="docutils literal notranslate"><span class="pre">'mid_clouds'</span></code>,
<code class="docutils literal notranslate"><span class="pre">'high_clouds'</span></code>, and <code class="docutils literal notranslate"><span class="pre">'pressure_tendency'</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">colors</span></code></p>
<p>This attribute can change the color of the plotted observation. Default is <code class="docutils literal notranslate"><span class="pre">â€˜blackâ€™</span></code>.
Acceptable colors are those available through Matplotlib:
<a class="reference external" href="https://matplotlib.org/3.1.1/_images/sphx_glr_named_colors_003.png">https://matplotlib.org/3.1.1/_images/sphx_glr_named_colors_003.png</a></p>
<p><code class="docutils literal notranslate"><span class="pre">vector_field</span></code></p>
<p>This attribute can be set to a list of wind component values for plotting
(e.g., <code class="docutils literal notranslate"><span class="pre">[â€˜uwindâ€™,</span> <span class="pre">â€˜vwindâ€™]</span></code>)</p>
<p><code class="docutils literal notranslate"><span class="pre">vector_field_color</span></code></p>
<p>Same as colors except only controls the color of the wind barbs. Default is <code class="docutils literal notranslate"><span class="pre">â€˜blackâ€™</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">reduce_points</span></code></p>
<p>This attribute can be set to a real number to reduce the number of stations that are plotted.
Default value is zero (e.g., no points are removed from the plot).</p>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> (0 minutes 11.123 seconds)</p>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-tutorials-declarative-tutorial-py">
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../_downloads/ebb1d490725ed27549701eaf2c36b8b4/declarative_tutorial.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">declarative_tutorial.ipynb</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../_downloads/900d76c7356d09e4ca20b90f94a0732e/declarative_tutorial.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">declarative_tutorial.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-zip docutils container">
<p><a class="reference download internal" download="" href="../_downloads/8b1e37ecb6ea1420f63e73b993a64429/declarative_tutorial.zip"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">zipped:</span> <span class="pre">declarative_tutorial.zip</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="xarray_tutorial.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">xarray with MetPy Tutorial</p>
      </div>
    </a>
    <a class="right-next"
       href="../userguide/upgradeguide.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">MetPy 1.0 Upgrade Guide</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#imports">Imports</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#getting-data">Getting Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#set-datetime">Set Datetime</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#subsetting-data">Subsetting Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#calculations">Calculations</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#plotting">Plotting</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#adding-wind-barbs">Adding Wind Barbs</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#plot-surface-obs">Plot Surface Obs</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#detailed-attribute-descriptions">Detailed Attribute Descriptions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#contourplot">ContourPlot()</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#filledcontourplot">FilledContourPlot()</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#panelcontainer">PanelContainer()</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mappanel">MapPanel()</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#barbplot">BarbPlot()</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#plotobs">PlotObs()</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      Â© Copyright 2008â€“2025, MetPy Developers. Development is supported by Unidata and the National Science Foundation.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>