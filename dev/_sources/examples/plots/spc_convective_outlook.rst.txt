
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "examples/plots/spc_convective_outlook.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_examples_plots_spc_convective_outlook.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_examples_plots_spc_convective_outlook.py:


NOAA SPC Convective Outlook
===========================

Demonstrate the use of geoJSON and shapefile data with PlotGeometry in MetPy's simplified
plotting interface. This example walks through plotting the Day 1 Convective Outlook from NOAA
Storm Prediction Center. The geoJSON file was retrieved from the `Storm Prediction Center's
archives <https://www.spc.noaa.gov/archive/>`_.

.. GENERATED FROM PYTHON SOURCE LINES 13-19

.. code-block:: Python


    import geopandas

    from metpy.cbook import get_test_data
    from metpy.plots import MapPanel, PanelContainer, PlotGeometry








.. GENERATED FROM PYTHON SOURCE LINES 20-21

Read in the geoJSON file containing the convective outlook.

.. GENERATED FROM PYTHON SOURCE LINES 21-23

.. code-block:: Python

    day1_outlook = geopandas.read_file(get_test_data('spc_day1otlk_20210317_1200_lyr.geojson'))








.. GENERATED FROM PYTHON SOURCE LINES 24-25

Preview the data.

.. GENERATED FROM PYTHON SOURCE LINES 25-27

.. code-block:: Python

    day1_outlook






.. raw:: html

    <div class="output_subarea output_html rendered_html output_result">
    <div>
    <style scoped>
        .dataframe tbody tr th:only-of-type {
            vertical-align: middle;
        }

        .dataframe tbody tr th {
            vertical-align: top;
        }

        .dataframe thead th {
            text-align: right;
        }
    </style>
    <table border="1" class="dataframe">
      <thead>
        <tr style="text-align: right;">
          <th></th>
          <th>DN</th>
          <th>VALID</th>
          <th>EXPIRE</th>
          <th>ISSUE</th>
          <th>LABEL</th>
          <th>LABEL2</th>
          <th>stroke</th>
          <th>fill</th>
          <th>geometry</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th>0</th>
          <td>2</td>
          <td>202103171200</td>
          <td>202103181200</td>
          <td>202103170552</td>
          <td>TSTM</td>
          <td>General Thunderstorms Risk</td>
          <td>#55BB55</td>
          <td>#C1E9C1</td>
          <td>MULTIPOLYGON (((-75.21498 35.85713, -75.12 35....</td>
        </tr>
        <tr>
          <th>1</th>
          <td>3</td>
          <td>202103171200</td>
          <td>202103181200</td>
          <td>202103170552</td>
          <td>MRGL</td>
          <td>Marginal Risk</td>
          <td>#005500</td>
          <td>#66A366</td>
          <td>MULTIPOLYGON (((-85.71646 29.55317, -85.767 29...</td>
        </tr>
        <tr>
          <th>2</th>
          <td>4</td>
          <td>202103171200</td>
          <td>202103181200</td>
          <td>202103170552</td>
          <td>SLGT</td>
          <td>Slight Risk</td>
          <td>#DDAA00</td>
          <td>#FFE066</td>
          <td>MULTIPOLYGON (((-85.95065 29.84763, -85.985 29...</td>
        </tr>
        <tr>
          <th>3</th>
          <td>5</td>
          <td>202103171200</td>
          <td>202103181200</td>
          <td>202103170552</td>
          <td>ENH</td>
          <td>Enhanced Risk</td>
          <td>#FF6600</td>
          <td>#FFA366</td>
          <td>MULTIPOLYGON (((-88.4 30.2, -90.09 29.87, -91....</td>
        </tr>
        <tr>
          <th>4</th>
          <td>6</td>
          <td>202103171200</td>
          <td>202103181200</td>
          <td>202103170552</td>
          <td>MDT</td>
          <td>Moderate Risk</td>
          <td>#CC0000</td>
          <td>#E06666</td>
          <td>MULTIPOLYGON (((-87.07 31.68, -88.65 30.96, -9...</td>
        </tr>
        <tr>
          <th>5</th>
          <td>8</td>
          <td>202103171200</td>
          <td>202103181200</td>
          <td>202103170552</td>
          <td>HIGH</td>
          <td>High Risk</td>
          <td>#CC00CC</td>
          <td>#EE99EE</td>
          <td>MULTIPOLYGON (((-91.88 32.99, -89.82 34.4, -88...</td>
        </tr>
      </tbody>
    </table>
    </div>
    </div>
    <br />
    <br />

.. GENERATED FROM PYTHON SOURCE LINES 28-31

Plot the shapes from the 'geometry' column. Give the shapes their fill and stroke color by
providing the 'fill' and 'stroke' columns. Use text from the 'LABEL' column as labels for the
shapes.

.. GENERATED FROM PYTHON SOURCE LINES 31-38

.. code-block:: Python

    geo = PlotGeometry()
    geo.geometry = day1_outlook['geometry']
    geo.fill = day1_outlook['fill']
    geo.stroke = day1_outlook['stroke']
    geo.labels = day1_outlook['LABEL']
    geo.label_fontsize = 'large'








.. GENERATED FROM PYTHON SOURCE LINES 39-40

Add the geometry plot to a panel and container.

.. GENERATED FROM PYTHON SOURCE LINES 40-51

.. code-block:: Python

    panel = MapPanel()
    panel.title = 'SPC Day 1 Convective Outlook (Valid 12z Mar 17 2021)'
    panel.plots = [geo]
    panel.area = [-120, -75, 25, 50]
    panel.projection = 'lcc'
    panel.layers = ['lakes', 'land', 'ocean', 'states', 'coastline', 'borders']

    pc = PanelContainer()
    pc.size = (12, 8)
    pc.panels = [panel]
    pc.show()



.. image-sg:: /examples/plots/images/sphx_glr_spc_convective_outlook_001.png
   :alt: SPC Day 1 Convective Outlook (Valid 12z Mar 17 2021)
   :srcset: /examples/plots/images/sphx_glr_spc_convective_outlook_001.png
   :class: sphx-glr-single-img






.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 7.229 seconds)


.. _sphx_glr_download_examples_plots_spc_convective_outlook.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: spc_convective_outlook.ipynb <spc_convective_outlook.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: spc_convective_outlook.py <spc_convective_outlook.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: spc_convective_outlook.zip <spc_convective_outlook.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
